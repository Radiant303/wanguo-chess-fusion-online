# AIMAX 象棋联机版

AIMAX 象棋联机版是一个基于 Web 的现代中国象棋应用，支持**实时联机对战**、**人机对战**以及独特的**棋子融合玩法**。

## ✨ 特色功能

### 1. 特殊融合规则 (Fusion Rules)
本项目引入了基于中国历史典故的创新玩法，允许己方特定棋子在棋盘上重叠时“融合”为更强力的升级棋子：

- **兵 + 兵 = 炮**：参考陈胜吴广起义，人多力量大。
- **兵 + 马 = 车**：参考卫青霍去病北击匈奴，骑兵与步兵协同。
- **兵 + 炮 = 铳**：参考义和团抗洋，升级后的炮可以隔着1个或2个子吃子。
- **马 + 车 = 骠**：参考薛仁贵征西，兼具马和车的走法（会蹩腿）。
- **马 + 象 = 骏**：参考岳飞韩世忠抗金，兼具马和象的走法，会蹩腿但能过河。
- **车 + 炮 = 軳**：参考辽沈战役，仅能在水平方向移动，但可隔任意多子进行远程打击（失去垂直移动能力）。
- **车 + 兵 = 轀**：参考刘邓大军挺进大别山，兵的走法但每次最多可以移动两格（可连续移动两次）。
- **士 + 士 = 仕**：参考西安事变，仕可全盘斜走一格，但存在时会导致己方将帅无法移动（被“兵谏”）。

### 2. 游戏模式
- **联机对战**：通过 WebSocket 连接服务器，与远程玩家创建房间进行实时对弈，支持聊天功能。
- **人机对战**：内置 AI 对手，适合单人练习。
- **AI 观战**：观看两个 AI 互相对弈。

### 3. 现代化 UI
- **响应式设计**：完美适配桌面端和移动端，手机上也能流畅对弈。
- **视觉反馈**：包含合法落点提示、将军红闪警示、吃子特效等。
- **历史典故**：侧边栏详细介绍了每个融合规则背后的历史故事。

## 🛠️ 技术栈

- **前端**：HTML5, CSS3, Vanilla JavaScript (ES Modules).
- **后端**：Python (基于 `websockets` 库).

## 🚀 快速开始

### 1. 启动后端服务器
为了使用联机功能，需要启动 WebSocket 服务器。

**环境要求**：Python 3.7+

安装依赖：
```bash
pip install websockets
```

启动服务器：
```bash
python 联机.py
```
*服务器默认监听 `9191` 端口。*

### 2. 启动前端
推荐使用简单的静态文件服务器来运行前端页面。

**方式 A (Python)**:
在项目根目录下运行：
```bash
python -m http.server 8000
```
然后在浏览器访问 `http://175.24.198.214:8000/index.html`。

**方式 B (VS Code)**:
使用 Live Server 插件右键点击 `index.html` 选择 "Open with Live Server"。

## 📂 目录结构

```
/
├── index.html        # 游戏主界面
├── Readme.md         # 项目说明
├── 联机.py           # WebSocket 服务器脚本
└── src/              # 前端源代码
    ├── ai.js         # AI 核心逻辑
    ├── board.js      # 棋盘状态与棋子定义
    ├── constants.js  # 常量定义
    ├── moves.js      # 走法生成与验证
    ├── network.js    # 网络通信模块
    ├── state.js      # 全局状态管理
    ├── ui.js         # 界面渲染与交互
    └── utils.js      # 工具函数
```

## 🎮 操作指南
- **点击棋子**：选中棋子，绿色圆点显示可移动位置。
- **融合**：控制棋子移动到己方另一特定棋子上即可触发融合。
- **联机**：在右侧面板点击“联机”，输入房间号（或使用自动生成的），点击“创建”或“加入”。
